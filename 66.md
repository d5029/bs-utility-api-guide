# æ–‡ç« å¤§ç¶±ï¼šå¦‚ä½•åˆ©ç”¨ Utility API ä¾†æ“´å±•ä½ çš„ CSS å·¥å…·ç®±
## å‰è¨€
ç•¶æˆ‘å€‘ä½¿ç”¨ Bootstrap é€²è¡Œ UI é–‹ç™¼æ™‚ï¼Œå®ƒæ‰€å…§å»ºçš„ `.m-*`ã€`.p-*`ã€`.text-*`ã€`.fs-*` ç­‰ utility classï¼Œç¢ºå¯¦æä¾›äº†å¿«é€Ÿã€ç©©å®šä¸”ä¸€è‡´çš„æ¨£å¼åŸºç¤ã€‚ä½†å¯¦å‹™ä¸Šï¼Œç•¶è¨­è¨ˆéœ€æ±‚æ›´ç´°ç·»ï¼Œæˆ–å“ç‰Œè­˜åˆ¥æœ‰ç‰¹å®šçš„ spacing èˆ‡è‰²å½©ç¯€å¥æ™‚ï¼Œé€™äº›é è¨­çš„ utility class å°±å®¹æ˜“åŠ›æœ‰æœªé€®ï¼Œå°è‡´ä»¥ä¸‹å•é¡Œé€æ¼¸æµ®ç¾ï¼š

- **spacing ä¸å¤ ç´°ç·»**ï¼šBootstrap åƒ…æä¾› `$spacer` çš„å¹¾å€‹å€æ•¸ï¼ˆå¦‚ `.m-0`~`.m-5`ï¼‰ï¼Œä½†å¸¸è¦‹çš„ 10pxã€12pxã€20pxã€32pxã€40px ç­‰é–“è·ç„¡æ³•ç›´æ¥å°æ‡‰ã€‚
- **font-size ç¼ºå°‘éšå±¤éæ¸¡**ï¼šåŸç”Ÿ `.fs-1`~`.fs-6` ç‚ºæ¨™é¡Œè¨­è¨ˆï¼Œç¼ºä¹ 18px ç­‰ä¸­é–“å±¤ç´šï¼Œå°è‡´éœ€é »ç¹æ‰‹åˆ» styleã€‚
- **color ç„¡æ³•å°æ‡‰å“ç‰Œèªæ„**ï¼šå“ç‰Œä¸»è‰²ã€æ¬¡è‰²ã€äº’å‹•æ…‹é¡è‰²è‹¥æ²’æœ‰ `.text-brand`ã€`.bg-accent` é€™é¡èªæ„ classï¼Œåªèƒ½ä»¥ HEX æˆ– RGB ç·¨å¯«ï¼Œä¸åˆ©ç¶­è­·ã€‚
- **æ¨£å¼é‡è¤‡ä½†ç„¡æ³•æ¨¡çµ„åŒ–**ï¼šå¤šå€‹å€å¡Šéœ€è¦ç›¸åŒ paddingã€gapã€è‰²å½©ï¼Œå»å› ç¼ºå°‘å…±ç”¨ utilityï¼Œåªèƒ½é‡è¤‡å®šç¾©ã€å¢åŠ å†—é¤˜ã€‚

é€™æ™‚ï¼Œ**Utility API å°±åƒæ˜¯ Bootstrap çš„ã€Œæ¨£å¼æ“´å……æ’æ§½ã€**ã€‚å®ƒä¸å–ä»£åŸç”Ÿ utilityï¼Œè€Œæ˜¯è®“ä½ èƒ½åœ¨ç›¸åŒæ¶æ§‹ä¸‹è£œä¸Šç¼ºæ¼çš„ classï¼Œä¸¦çµ±ä¸€å‘½åã€ç²¾æº–å°é½Šè¨­è¨ˆèªè¨€ã€‚ä¾‹å¦‚ä½ å¯ä»¥è£œä¸Š `.m-2-1` è¡¨ç¤º 10px é–“è·ï¼Œ`.fs-5-5` ä»£è¡¨ 18px å­—ç´šï¼Œæˆ– `.bg-brand-light` ä»£è¡¨å“ç‰Œè¼•è‰²èƒŒæ™¯ã€‚é€™ä¸åªæå‡äº†æ¨£å¼å‘½åçš„èªæ„èˆ‡å¯è®€æ€§ï¼Œä¹Ÿè®“æ•´é«”å°ˆæ¡ˆæ›´æ¨¡çµ„åŒ–ã€æ›´ç¬¦åˆè¨­è¨ˆèˆ‡é–‹ç™¼å…±ç”¨èªå½™çš„ç›®æ¨™ã€‚


## Utility API æ˜¯ä»€éº¼ï¼Ÿèƒ½åšåˆ°ä»€éº¼ï¼Ÿ
Utility API æ˜¯ Bootstrap 5 é–‹å§‹å¼•å…¥çš„ä¸€å¥— SCSS å»ºæ§‹å·¥å…·ï¼Œå®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ï¼šè®“ä½ ç”¨ç°¡å–®çš„ SCSS é…ç½®ï¼Œå°±èƒ½è‡ªå‹•ç”¢å‡ºç¬¦åˆ Bootstrap å‘½åé‚è¼¯çš„ utility classã€‚ä¸éœ€è¦æ‰‹åˆ»ä¸€å † .`my-custom-class {}`ï¼Œåªè¦å®šç¾©ä¸€æ¬¡ï¼Œä½ å°±å¯ä»¥åœ¨ HTML ä¸­åƒä½¿ç”¨ `.m-3`ã€`.text-center` ä¸€æ¨£ï¼Œä½¿ç”¨ä½ è‡ªå·±çš„ `.fs-5-5`ã€.`bg-brand`ã€`.gap-10`ã€‚



### ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ Bootstrap çš„ `utilities` å‡½å¼

è‹¥è¦ä½¿ç”¨ Bootstrap çš„ Utility APIï¼Œç¬¬ä¸€æ­¥æ˜¯**å¼•å…¥ Bootstrap çš„ SCSS åŸå§‹æª”**ï¼Œé€™äº›æª”æ¡ˆå…§å»ºäº† `utilities()` mixin ä»¥åŠ `$utilities` è¨­å®šï¼Œèƒ½å¹«ä½ è‡ªå‹•ç·¨è­¯å‡ºç¬¦åˆå‘½åé‚è¼¯çš„ utility classã€‚ä½ å¯ä»¥é€éå®˜ç¶²æä¾›çš„ **Source files** ä¸‹è¼‰æ–¹å¼ä¾†å–å¾—ã€‚

---

#### âœ… å®˜ç¶²ä¸‹è¼‰è·¯å¾‘

1. å‰å¾€ Bootstrap å®˜æ–¹ç¶²ç«™ï¼š  
   ğŸ‘‰ [https://getbootstrap.com/docs/5.3/getting-started/download/](https://getbootstrap.com/docs/5.3/getting-started/download/)

2. æ‰¾åˆ°ã€Œ**Source files**ã€å€å¡Šï¼Œé»æ“Š **Download source** ä¸‹è¼‰ `.zip` æª”ã€‚

3. è§£å£“ç¸®å¾Œï¼Œä½ æœƒçœ‹åˆ° `scss/` è³‡æ–™å¤¾ï¼Œè£¡é¢åŒ…å« Bootstrap æ‰€æœ‰åŸå§‹ SCSS æª”æ¡ˆã€‚

---

#### ğŸ“‚ ä½ éœ€è¦ç”¨åˆ°çš„ SCSS æª”æ¡ˆåŒ…å«ï¼š

| æª”æ¡ˆåç¨±          | èªªæ˜                                     |
|-------------------|------------------------------------------|
| `_utilities.scss` | æ ¸å¿ƒ Utility API å·¥å…·èˆ‡ mixin å®šç¾©       |
| `_variables.scss` | é è¨­çš„ spacingã€é¡è‰²ã€å­—ç´šç­‰è¨­è¨ˆè®Šæ•¸     |
| `_functions.scss` | Sass ç”¨çš„è¼”åŠ©å‡½å¼ï¼ˆå¦‚ `map-loop()`ï¼‰     |
| `_maps.scss`      | é è¨­ color mapã€spacing map çµæ§‹         |
| `bootstrap.scss`  | æ‰€æœ‰ Bootstrap çµ„ä»¶èˆ‡ utility çš„å…¥å£é»   |

---

#### ğŸ› ï¸ å»ºç«‹è‡ªè¨‚çš„ `utilities.scss`ï¼ˆæˆ–æ”¾é€² `main.scss` ä¸­ï¼‰

åœ¨ä½ çš„ SCSS å°ˆæ¡ˆä¸­æ–°å¢ä¸€ä»½ `utilities.scss`ï¼Œä¸¦å¼•å…¥ Bootstrap çš„åŠŸèƒ½å‡½å¼èˆ‡è®Šæ•¸ï¼š

```scss
@import "vendor/bootstrap/scss/functions";
@import "vendor/bootstrap/scss/variables";
@import "vendor/bootstrap/scss/maps";
@import "vendor/bootstrap/scss/utilities";
```


###  ç¬¬äºŒæ­¥ï¼šå®šç¾©ä½ è‡ªå·±çš„ $utilities map
é€™è£¡ä½ å¯ä»¥è£œä¸ŠåŸæœ¬ Bootstrap æ²’æœ‰çš„å–®ä½ï¼Œä¾‹å¦‚ 10pxã€18px å­—ç´šã€å“ç‰Œè‰²èƒŒæ™¯ã€RWD åœ–ç‰‡æ¯”ä¾‹ç­‰ã€‚æ¯ä¸€å€‹ map ç‰©ä»¶éƒ½å°æ‡‰ä¸€çµ„ CSS propertyã€å‘½åè¦å‰‡èˆ‡å¯å¥—ç”¨çš„å€¼ï¼š


```scss
$spacers: (
    0: 0,
    1: $spacer * 0.25,   // 4px
    2: $spacer * 0.5,    // 8px
    2-1: $spacer * 0.625,// 10px
    2-2: $spacer * 0.75, // 12px
    2-3: $spacer * 0.875,// 14px
    3: $spacer,          // 16px
    3-5: $spacer * 1.25, // 20px  
    4: $spacer * 1.5,    // 24px
    4-5: $spacer * 2.25, // 36px
    4-7-5: $spacer * 2.5,// 40px
    5: $spacer * 3,      // 48px
);
$font-sizes: (
    1: 2.5rem,   // 40px
    2: 2rem,     // 32px
    3: 1.75rem,  // 28px
    4: 1.5rem,   // 24px
    5: 1.25rem,  // 20px
    5-5: 1.125rem, // 18pxï¼ˆå®¢è£½ï¼‰
    6: 1rem,     // 16px
    7: 0.875rem, // 14pxï¼ˆå®¢è£½ï¼‰
    8: 0.75rem   // 12pxï¼ˆå®¢è£½ï¼‰
)
$brand-colors: (
    brand: #1F9AB3,
    brand-dark: #0D3A4A
)
$custom-utilities: (
  "font-size": (
    property: font-size,
    class: fs,
    values: (
      5-5: 1.125rem // 18px
    )
  ),
  "spacing-10": (
    property: margin,
    class: m,
    values: (
      2-1: 0.625rem // 10px
    )
  ),
  "bg-brand": (
    property: background-color,
    class: bg,
    values: (
      brand: #1f9ab3
    )
  )
);
```
ä½ ä¹Ÿå¯ä»¥ç”¨ map-merge() æŠŠé€™çµ„ç‰©ä»¶ä½µå…¥ Bootstrap é è¨­çš„ $utilities ä¸­ï¼š


```scss
$utilities: map-merge($utilities, $custom-utilities);
```
### ç¬¬ä¸‰æ­¥ï¼šåŸ·è¡Œ @include utilities($utilities) ç·¨è­¯å‡º class
ç•¶ä½ å®Œæˆè‡ªè¨‚ $utilities è¨­å®šå¾Œï¼Œåªéœ€åœ¨æ¨£å¼æª”ä¸­åŠ å…¥ä¸‹æ–¹èªå¥ï¼ŒBootstrap å°±æœƒè‡ªå‹•æ ¹æ“šä½ çš„è¨­å®šç”¢å‡ºå°æ‡‰çš„ utility classï¼š


```scss
@include utilities($utilities);
```
é€™æœƒç”¢å‡ºåƒæ˜¯ï¼š


```css
.fs-5-5 { font-size: 1.125rem; }
.m-2-1 { margin: 0.625rem; }
.bg-brand { background-color: #1f9ab3; }
```
### å»ºè­°æª”æ¡ˆçµæ§‹ï¼ˆå¯é¸ï¼‰
```less
scss/
  â”œâ”€ bootstrap.scss          // Bootstrap åŸå§‹å¼•å…¥
  â”œâ”€ utilities/
  â”‚    â””â”€ _custom-utilities.scss
  â””â”€ main.scss               // æœ€çµ‚åŒ¯å…¥æª”
```
é€™æ¨£çš„çµæ§‹æ–¹ä¾¿ç¶­è­·èˆ‡é‡ç”¨ï¼Œç•¶ spacingã€é¡è‰²ã€å­—ç´šè®Šå‹•æ™‚ï¼Œåªéœ€ä¿®æ”¹ custom-utilities å³å¯æ‰¹æ¬¡åŒæ­¥æ•´ç«™æ¨£å¼ã€‚

é€é Utility APIï¼Œä½ ä¸éœ€è¦å¯«ä¸€å¤§å †æ‰‹åˆ» CSS classï¼Œå°±èƒ½å‹•æ…‹ç”¢å‡ºå¤§é‡ä¸€è‡´ã€èªæ„æ¸…æ¥šã€æ”¯æ´ RWD çš„è‡ªè¨‚æ¨£å¼ï¼Œæ—¢ç¯€çœæ™‚é–“ï¼Œä¹Ÿè®“å°ˆæ¡ˆç¶­è­·æ›´å…·å½ˆæ€§ã€‚

## ç¸½çµ
Utility API ä¸åƒ…æ˜¯ Bootstrap çš„ä¸€é …æ“´å……æ©Ÿåˆ¶ï¼Œæ›´æ˜¯è®“è¨­è¨ˆèªè¨€è½å¯¦åœ¨ç¨‹å¼ç¢¼ä¸­çš„é—œéµæ©‹æ¨‘ã€‚é€éè‡ªè¨‚ spacingã€å­—ç´šèˆ‡å“ç‰Œè‰²ç­‰ utility classï¼Œæˆ‘å€‘å¯ä»¥è£œè¶³ Bootstrap åŸç”Ÿçš„ä¸è¶³ï¼Œå»ºç«‹å‡ºä¸€å¥—èªæ„æ¸…æ™°ã€çµæ§‹ç©©å®šã€æ˜“æ–¼å…±ç”¨èˆ‡ç¶­è­·çš„æ¨£å¼å·¥å…·ã€‚å®ƒä¸è¦æ±‚ä½ æ”¾æ£„ Bootstrap çš„è¨­è¨ˆèªæ³•ï¼Œä¹Ÿä¸å¼·è¿«ä½ èµ°å‘ utility-firstï¼Œè€Œæ˜¯åœ¨æ—¢æœ‰æ¡†æ¶ä¸­è‡ªç„¶å»¶ä¼¸ï¼Œè®“ä½ çš„å‰ç«¯é–‹ç™¼æ›´æœ‰å½ˆæ€§ã€æ›´è²¼è¿‘è¨­è¨ˆé‚è¼¯ã€‚å°æ–¼è¿½æ±‚ä¸€è‡´æ€§èˆ‡æ•ˆç‡çš„å°ˆæ¡ˆåœ˜éšŠè€Œè¨€ï¼Œå–„ç”¨ Utility APIï¼Œä¸åªæ˜¯å°‘å¯« CSSï¼Œè€Œæ˜¯æ‰“é€ ä¸€å¥—å¯è¤‡è£½ã€å¯ç¶­è­·çš„æ¨£å¼èªè¨€ï¼Œè®“è¨­è¨ˆèˆ‡é–‹ç™¼çœŸæ­£èªªåŒä¸€ç¨®èªè¨€ã€‚